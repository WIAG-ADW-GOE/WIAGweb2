{% import "edit_person/_util.html.twig" as util %}
<div class="row">
    <div class="col-12">
	<div class="input-group input-group-sm"
	     data-controller="sync">
	    <span class="text-nowrap">
		{% if expanded %}
		    <button class="btn btn-sm ms-1 pt-0 px-1 align-top"
			    type="button"
			    data-bs-toggle="collapse"
			    data-bs-target={{ "#body#{person.item.id}" }}
			    aria-expanded="true"
			    aria-controls={{ "body#{person.item.id}" }}
			    data-sync-target="expand"
			    data-toggle-arrow-target="button"><img src="{{ asset('images/symbols/caret-down-square.svg') }}" alt="Pfeilsymbol"></button>
		{% else %}
		    <button class="btn btn-sm ms-1 pt-0 px-1 align-top"
			    type="button"
			    data-bs-toggle="collapse"
			    data-bs-target={{ "#body#{person.item.id}" }}
			    aria-expanded="false"
			    aria-controls={{ "body#{person.item.id}" }}
			    data-sync-target="expand"
			    data-toggle-arrow-target="button"><img src="{{ asset('images/symbols/caret-right-square.svg') }}" alt="Pfeilsymbol"></button>
		{% endif %}
		<input class="form-check-input ms-0 pt-0 mt-0 align-middle"
		       type="checkbox"
		       value="1"
		       id="{{ base_id }}_item_formisedited"
		       name="{{ base_input_name }}[item][formIsEdited]"
		       data-action="sync#expand"
		       data-on-input-target="checkbox"
		       {% if person.item.formIsEdited ?? false %}checked="checked"{% endif %}>
		<img class="align-middle" src="{{ asset(online_image) }}" alt="Farbsymbol online">
	    </span>
	    {# headline #}
	    {% if person.describeRole %}
		{% set head_line %}
		<strong>{{ person.describe }}</strong>, {{ person.describeRole }}
		{% endset %}
	    {% else %}
		{% set head_line %}
		<strong>{{ person.describe }}</strong>
		{% endset %}
	    {% endif %}
	    {# store data in the form #}
	    <span class="ms-2 text-truncate" style="max-width: 50em;">{{ head_line }}</span>
	    <span class="ms-2">ID: {{ person.item.idInSource }}</span>
	    {{ util.hiddenInput(base_id, base_input_name, ['id'], person.id) }}
	    {{ util.hiddenInput(base_id, base_input_name, ['item', 'idInSource'], person.item.idInSource) }}
	    {{ util.hiddenInput(base_id, base_input_name, ['item', 'itemTypeId'], itemTypeId) }}
	    <span class="vr ms-auto"></span>
	    <span class="bg-light ms-1 px-2">{{ person.item.editStatus }}</span>
	</div>
    </div>
</div>
